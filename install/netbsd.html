<!DOCTYPE html>
<html lang="pt-BR" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="description" content="">
    <meta name="keywords" content="formata√ß√£o, windows, linux, freebsd, bios, uefi, instala√ß√£o, balena, etcher, ventoy, os">
    <meta name="author" content="Cain">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instala√ß√£o do NetBSD 9.3</title>
    <!--Social Media Open Graph-->
    <meta property="og:title" content="Instala√ß√£o de Sistemas Operacionais - NetBSD"/>
    <meta property="og:url" content="https://cain-dev.github.io/default/"/>
    <meta property="og:type" content="article"/>
    <meta property="og:description" content="Aprenda a instalar o NetBSD 9.3"/>
    <meta property="og:image" content="https://raw.githubusercontent.com/cain-dev/default/main/assets/images/ogimage.jpg"/>
    <!--/Social Media Open Graph-->
    <!--Links-->
    <link rel="shortcut icon" href="https://www.netbsd.org/favicon.ico">
    <link rel="stylesheet" type="text/css"href="../os_style.css">   
    <!--/Links-->
</head>
<body>
    <header id="main-header">
        <ul>
            <li><a href="../index.html">Home</a></li>
            <li><p>@cain-dev</p></li>
            <li><a href="../extra/contact.html">Contato</a></li>
        </ul>
    </header>
    <main id="main-area">
        <img class="responsiva" src="https://www.netbsd.org/images/NetBSD-tb.png" alt="">
        <h1>Instala√ß√£o do NetBSD 9.3</h1>
        <h2>Introdu√ß√£o</h2>
        <p>Se FreeBSD aquele o primo chato que adora ficar enchendo o saco, disputando com o Linux e querendo se mostrar e o OpenBSD √© aquele primo distante, bem <i>cult</i>, que faz pouco, mas o que faz √© sempre digno de pr√™mio ent√£o o NetBSD √© aquele tio tranquilo que n√£o enche o saco de ningu√©m, n√£o busca holofotes mas que voc√™ sempre pode contar com ele.</p>
        <p>De cara um aviso: FreeBSD e OpenBSD s√£o sistemas que embora n√£o sejam desenhados para o <i>desktop</i> podem ser utilizados com algum grau de tranquilidade como <i>daily driver</i> e com certa compatibilidade de hardware <i>consumer class</i>, este definitivamente <strong>n√£o √© o caso</strong> do NetBSD! NetBSD √© um sistema em que n√£o s√≥ <i>desktop environments</i> populares (como o Cinnamon) ainda est√£o classificados como <i>work in progress</i> mas at√© mesmo <i>login managers</i> est√£o nessa situa√ß√£o.</p>
        <p>Eu estou dizendo que √© imposs√≠vel utilizar o NetBSD como <i>desktop</i>? N√£o! Inclusive, tamb√©m mostrarei como se fazer aqui, mas esque√ßa drivers propriet√°rios funcionais (isso se o driver existir) e at√© mesmo esque√ßa acelera√ß√£o de hardware, e at√© o devido suporte a <em>Unicode</em> (e n√£o, eu n√£o estou zuando!), se voc√™ vai pra um NetBSD com essa expectativa sua frustra√ß√£o vai ser cavalar, como servidor? Embora n√£o tenha tantos projetos para carregar (como o PfSense para o FreeBSD e o TrueNAS para o PC-BSD), funciona maravilhosamente est√°vel e bem, obrigado.</p>
        <p><strong>AVISO: Esta documenta√ß√£o presume que voc√™ √© um usu√°rio que entende o b√°sico de sistemas unixlike e como editar arquivos de configura√ß√£o.</strong></p>
        <h3>Como proceder:</h3>
        <ul>
            <li>Para navegar nos menus utilize as setas (‚Üê‚Üë‚Üì‚Üí)</li>
            <li>Para alterar o campo de sele√ß√£o tecle ‚Üπ Tab</li>
            <li>Para selecionar as op√ß√µes ( * ) nos menus tecle Espa√ßo</li> 
            <li>Enter ‚èé quando quiser confirmar a sele√ß√£o.</li>
        </ul>
        <p></p>
        <p>Essa √© a tela de inicial do NetBSD, tecle Enter ou aguarde o fim da contagem...</p>
        <img class="responsiva" src="../assets/images/install/netbsd/01.png" alt="">
        <p>Selecione <em>english</em> como idioma de instala√ß√£o... Se voc√™ fala qualquer outro fique a vontade tamb√©m üòÑ</p>
        <img class="responsiva" src="../assets/images/install/netbsd/02.png" alt="">
        <p>Selecione o seu teclado aqui, no caso vou selecionar o <em>Brazilian</em> para <em>ABNT2</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/03.png" alt="">
        <p>Selecione instalar NetBSD no disco r√≠gido</p>
        <img class="responsiva" src="../assets/images/install/netbsd/04.png" alt="">
        <p>Confirme a sua escolha</p>
        <img class="responsiva" src="../assets/images/install/netbsd/05.png" alt="">
        <p>Selecione o disco que voc√™ deseja utilizar</p>
        <img class="responsiva" src="../assets/images/install/netbsd/06.png" alt="">
        <p>O sistema vai tentar interpretar a geometria do seu disco, apenas confirme que √© a geometria correta a menos que voc√™ saiba muito bem o que est√° fazendo</p>
        <img class="responsiva" src="../assets/images/install/netbsd/07.png" alt="">
        <p>Para um processo simples de instala√ß√£o recomendo usar o disco inteiro</p>
        <img class="responsiva" src="../assets/images/install/netbsd/08.png" alt="">
        <p>E usar os tamanhos padr√£o de parti√ß√µes</p>
        <img class="responsiva" src="../assets/images/install/netbsd/09.png" alt="">
        <p>Confirme sua escolha</p>
        <img class="responsiva" src="../assets/images/install/netbsd/10.png" alt="">
        <p>Aceite a grava√ß√£o</p>
        <img class="responsiva" src="../assets/images/install/netbsd/11.png" alt="">
        <p>Obviamente <em>BIOS console</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/12.png" alt="">
        <p>Aqui voc√™ pode escolher o modelo de instala√ß√£o, de uma instala√ß√£o completa sem o <em>X11</em>, uma instala√ß√£o m√≠nima ou at√© mesmo uma instala√ß√£o customizada selecionando at√© mesmo partes desejadas do <em>X11</em>, via de regra escolha <em>Full installation</em> para usar com desktop e <em>Minimal installation</em> para uso com servidores.</p>
        <img class="responsiva" src="../assets/images/install/netbsd/13.png" alt="">
        <p>Como eu baixei a <em>ISO</em> de instala√ß√£o vou selecionar <em>CD-ROM / DVD / Install image media</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/14.png" alt="">
        <p>Aguarde o fim da instala√ß√£o</p>
        <img class="responsiva" src="../assets/images/install/netbsd/15.png" alt="">
        <p>Confirme o fim da instala√ß√£o</p>
        <img class="responsiva" src="../assets/images/install/netbsd/16.png" alt="">
        <p>E agora vamos configurar algumas, come√ßando pelo <em>configure network</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/17.png" alt="">
        <p>Selecione a interface de rede desejada</p>
        <img class="responsiva" src="../assets/images/install/netbsd/18.png" alt="">
        <p>Apenas aperte <em>Enter</em> para queo tipo seja detectado automaticamente</p>
        <img class="responsiva" src="../assets/images/install/netbsd/19.png" alt="">
        <p>Selecione <em>YES</em> para a autoconfigura√ß√£o</p>
        <img class="responsiva" src="../assets/images/install/netbsd/20.png" alt="">
        <p>Insira dom√≠nio DNS caso tenha ou simplesmente deixe em branco e tecle <em>Enter</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/21.png" alt="">
        <p>Se est√° tudo certo selecione <em>YES</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/22.png" alt="">
        <p>Confirme que deseja utilizar essa configura√ß√£o na m√°quina alvo</p>
        <img class="responsiva" src="../assets/images/install/netbsd/23.png" alt="">
        <p>Agora podemos configurar o fuso-hor√°rio</p>
        <img class="responsiva" src="../assets/images/install/netbsd/24.png" alt="">
        <p>No meu caso estou utilizando <em>America/Sao_Paulo</em> mas mude conforme a sua regi√£o, obviamente</p>
        <img class="responsiva" src="../assets/images/install/netbsd/25.png" alt="">
        <p>Uma vez selecionado saia para o menu de configura√ß√µes novamente</p>
        <img class="responsiva" src="../assets/images/install/netbsd/26.png" alt="">
        <p>Mude a senha de administrador</p>
        <img class="responsiva" src="../assets/images/install/netbsd/27.png" alt="">
        <p><em>YES</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/28.png" alt="">
        <p>Insira a senha de administrador</p>
        <img class="responsiva" src="../assets/images/install/netbsd/29.png" alt="">
        <p>Habilite a instala√ß√£o de pacotes bin√°rios</p>
        <img class="responsiva" src="../assets/images/install/netbsd/30.png" alt="">
        <p>Usu√°rio <em>FTP</em> baixar via <em>HTTP</em> e selecione <em>Install pkgin and update package summary</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/31.png" alt="">
        <p><em>pkgin</em> instalado, tecle <em>Enter</em> para retornar ao menu</p>
        <img class="responsiva" src="../assets/images/install/netbsd/32.png" alt="">
        <p>Selecione <em>Add a user</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/33.png" alt="">
        <p>Insira o nome de usu√°rio desejado</p>
        <img class="responsiva" src="../assets/images/install/netbsd/34.png" alt="">
        <p>Confirme para permitir eleva√ß√£o de privil√©gios</p>
        <img class="responsiva" src="../assets/images/install/netbsd/35.png" alt="">
        <p>Selecione o terminal padr√£o <em>/bin/sh</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/36.png" alt="">
        <p>Insira a senha deste usu√°rio</p>
        <img class="responsiva" src="../assets/images/install/netbsd/37.png" alt="">
        <p>E por fim voc√™ pode selecionar o que deseja utilizar na instala√ß√£o alvo, por exemplo voc√™ pode ativar o <em>sshd</em> para habilitar o daemon para conex√£o <em>ssh</em>, <em>ntpd</em> para daemon de <em>NTP</em>, <em>mdnsd</em> para <em>mDNS</em>, <em>xdm</em> para login gr√°fico, <em>cgd</em> para driver de dispositivo critogr√°fico e <em>RAIDFrame</em> para suporte a <em>RAID</em> via software, ap√≥s setar as suas op√ß√µes desejadas finalize a configura√ß√£o em <em>Finished configuring</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/38.png" alt="">
        <p>Tecle <em>Enter</em> para encerrar a instala√ß√£o</p>
        <img class="responsiva" src="../assets/images/install/netbsd/39.png" alt="">
        <p>Se tudo deu certo voc√™ ver√° o login gr√°fico do <em>XDM</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/40.png" alt="">
        <p>E poder√° logar no <em>ctwm</em></p>
        <img class="responsiva" src="../assets/images/install/netbsd/41.png" alt="">
        <h2>P√≥s-instala√ß√£o</h2>
        <h3>Caso precise alterar a resolu√ß√£o utilize o comando <em>xrandr</em> para verificar as resolu√ß√µes dispon√≠veis, e para setar uma resolu√ß√£o espec√≠fica fa√ßa como no comando abaixo:</h3>
        <code>xrandr -s 1280x720</code>
        <h3>Setar teclado para ABNT2</h3>
        <p>Antes de mais nada √© interessante fazer com que o teclado funcione corretamente, para isso use o comando:</p>
        <code>setxkbmap -layout br -variant abnt2</code>
        <h3>Eleva√ß√£o de privil√©gios com o <em>DOAS</em></h3>
        <p>Se voc√™ seguiu corretamente os passos at√© aqui o seu usu√°rio faz parte do grupo <em>wheel</em>, para eleva√ß√£o de privil√©gio instale o <em>doas</em> com o comando:</p>
        <code>pkgin install doas</code>
        <p>O doas precisa de uma simples configura√ß√£o para eleva√ß√£o de privil√©gio, edite o arquivo <em>/usr/pkg/etc/doas.conf</em> e insira a linha:</p>
        <code>permit persist keepenv :wheel</code>
        <p>Caso voc√™ queira a eleva√ßao de privil√©gios sem inser√ß√£o de senha (n√£o recomendado) utilize a linha:</p>
        <code>permit nopass keepenv :wheel</code>
        <!-- N√£o recomendado
        <h3>Mudan√ßa de Shell</h3>
        <code>chsh -s /usr/pkg/bin/zsh <em>usu√°rio</em></code>
        -->
        <h3>Instala√ß√£o de Ambiente Gr√°fico</h3>
        <p>Como citei na instala√ß√£o, o NetBSD <strong>n√£o √©</strong> um sistema operacional com todo o devido suporte para desktops modernos, mas mesmo sendo bastante limitado, caso voc√™ deseje uma interface simples para facilitar a utiliza√ß√£o do sistema n√£o √© t√£o complicado assim. √â claro que as op√ß√µes de gerenciadores de janela como <em>i3</em> + <em>rofi</em> ou <em>dmenu</em> + <em>lemonbar</em> ou <em>polybar</em> compilada podem funcionar maravilhosamente bem, mas se voc√™ quer um <em>sway</em> rodando de forma est√°vel, bom... √â melhor buscar outro sistema.</p>
        <p>Pelo que eu pude contar existem <em>1</em> op√ß√£o de ambiente completo que funcionam relativamente bem: O <em>XFCE4</em> (que como sempre √© o que roda melhor em tudo fora do Linux).</p>
        <h4>Preparando as coisas - <em>DBUS</em></h4>
        <p>Primeiro copie o script de <em>dbus</em> para o diret√≥rio <mark>/etc/rc.d</mark>:</p>
        <code>cd /etc/rc.d<br>cp /usr/pkg/share/examples/rc.d/dbus <em>.</em></code>
        <p>* Note que tem um ponto al√≠ acima!</p>
        <p>Edite o arquivo <mark>/etc/rc.conf</mark> e insira a linha:</p>
        <code>dbus=YES</code>
        <h4>Preparando as coisas - <em>xinit</em></h4>
        <code>cp /etc/X11/xinit/xinitrc ~/.xinitrc<br>chmod u+w ~/.xinitrc</code>
        <p>Uma vez que mudamos o login para um login gr√°fico (<em>xdm</em>), o arquivo para ser lido para inicializa√ß√£o passa a ser o <em>.xinitrc</em></p>
        <code>ln -s .xinitrc ~/.xsession</code>
        <h4>XFCE</h4>
        <p>Para instalar o XFCE utilize o comando:</p>
        <code>pkgin in xfce4</code>
        <p>Comente as linhas do <em>uxterm</em> e do <em>ctwm</em> e adicione <mark>startxfce4</mark> em <em>~/.xinitrc</em> como no exemplo abaixo:</p>
        <code># /usr/X11R7/bin/uxterm &<br># exec /usr/X11R7/bin/ctwm -W<br>startxfce4</code>
        <!--
        <h4>Mate</h4>
        <code>mate-session</code>
        <p>Para instalar o Mate utilize o comando:</p>
        <code>pkgin in mate</code>
        -->
        <h4>Corrigindo diret√≥rios</h4>
        <p>Algumas interfaces ao serem instaladas n√£o criam automaticamente a estrutura para as pastas de usu√°rio (Imagens, M√∫sicas, V√≠deos etc), para resolver isso instale o pacote <em>xdg-user-dirs</em> com o comando abaixo:</p>
        <code>pkgin install xdg-user-dirs</code>
        <p>Logado como o seu usu√°rio, use o comando abaixo para atualizar os diret√≥rios:</p>
        <code>xdg-user-dirs-update</code>
    </main>
    <footer id="main-footer">
        <p>Est√° p√°gina ainda est√° em constru√ß√£o üöß</p>
        <a class="footerlink" href="#main-header">‚Üë Retornar ao topo ‚Üë</a>
    </footer>
</body>
</html>
